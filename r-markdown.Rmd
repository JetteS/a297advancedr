# R Markdown {#rmarkdown}

```{r setup, include=FALSE}
WORDS_TO_IGNORE <- c("Allaire", "Gruber", "Gruber's", "MacFarlane", "md", "pandoc", "Rmd", "rmarkdown", "Yihui", "Julyan", "Arbel")
source("knitr-options.R")
source("spelling-check.R")
```

```{r, echo=FALSE}
knitr::include_graphics("images/rmarkdown.png")
```

When writing package documentations with `roxygen2`, building websites for `R` packages with `pkgdown`, or building a personal website, you will not be able to get past R Markdown. R Markdown is rightly used everywhere; Indeed, these materials are written in R Markdown. 

But what is R Markdown? R Markdown is a file format for making reproducible, dynamic documents with `R`. A single R Markdown file can be used to save and execute code, and to generate high quality reports that can be shared with an audience. An R Markdown document is written in Markdown and contains plain text and embedded `R` code and results. In this chapter, we will take a closer look at R Markdown.

## What is Markdown? {.unnumbered}

Markdown is a simple markup language with plain text formatting syntax. And what is a markup language? It is a text-encoding system: A set of symbols is inserted in a text document to control its structure, formatting, etc. You probably know HTML; the standard markup language for creating Web pages. 
The extension of a Markdown file is typically *.md*, but a Markdown document can be converted to many formats (including HTML, PDF, and MS_Word). The original version of Markdown was created by John Gruber in 2004; completely independent of `R`. John Gruber's aim was to create a markup language that was easy to read and easy to write. He may have overshot the target; The original version of Markdown was often found overly simple and not suitable to write highly technical documents. 

Fortunately, two years later, John MacFarlane created the universal document converter [pandoc](https://pandoc.org/index.html). In this connection, the Markdown syntax was significantly enriched, making Markdown an excellent authoring framework for data science. 

## Adding `R` to Markdown {.unnumbered}

**R Markdown** is an extension of the markdown syntax that enables `R` code to be embedded in the document.  The typical extension for an R Markdown file is *.Rmd*. 
Converting an R Markdown document to a specific output format requires two steps:

1. The .Rmd file needs to be send to [knitr](https://yihui.org/knitr/), which executes the R code chunks and creates a new markdown (.md) document including the R code and its output.
2. Afterwards, the markdown file generated by knitr needs to be processed by pandoc, which is responsible for creating the finished file. 

Fortunately, we don't have to perform these steps every time we want to render an R Markdown document. The package `rmarkdown`, which is automatically installed and loaded in RStudio, provides a function that performs the processing steps for you; the function is called `render()`. Moreover, RStudio has a *Knit* button (<img src="images/knitDocument.png" style="display:inline-block; margin:0"/>) at the top of the **Source pane** that enables you to render an .Rmd file and preview it with a single click (or keyboard shortcut *Ctrl+Shift+K* / *Shift+Command+K*). 

![](https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExdDRhZjUxemN1dTlxaXVoajczZHU5MjVwZGZ1NWRxemhobDFqdWZlbCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/MdW35zYHmaNsltKHaM/giphy.gif)

The only drawback of using R Markdown is that help is not always available through the `help()` function. R Markdown integrates a variety of R packages and external tools; making it difficult to provide help for everything. Instead, you should consider the [R Markdown Reference Guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf), the [R Markdown Cheat Sheet](https://rstudio.github.io/cheatsheets/html/rmarkdown.html) (an older version can be found [here](https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf)), and the [rmarkdown website](https://rmarkdown.rstudio.com/index.html), which is also made with R Markdown (of course). 

## R Markdown basics 

Now that we have established what R Markdown is and what it can be used for, let us look at what a R Markdown document looks like. To create a new R Markdown document, you can either

- Go to File -> New File -> R Markdown...
- Click on <img src="images/blankFileIcon.png" style="display:inline-block; margin:0"/> in the RStudio menu (above the **Source pane** and select <img src="images/newRMarkdownDoc.png" style="display:inline-block; margin:0"/> R Markdown...
- Create a new text document <img src="images/newTextDoc.png" style="display:inline-block; margin:0"/> and save this file with the extension *.Rmd*, i.e. [file_name].Rmd. 
- Click on <img src="images/blankFileIcon.png" style="display:inline-block; margin:0"/> New Blank File in the **Files** tab of the **Output pane** and select <img src="images/newRMarkdownDoc.png" style="display:inline-block; margin:0"/> R Markdown... to create a file in the current directory.

<center>
<video width="560" height="315" autoplay loop muted preload="true"> 
<source src="Clips/Open_R_Markdown_document.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
</center>


Once you have opened  

```{r, echo=FALSE}
knitr::include_graphics("images/RMarkdownDocument.png")
```

The document contains three important types of content: 

1. The document starts with an (optional) YAML header surrounded by a line of three hyphens `---`. This is where you can specify metadata about the document and rendering instructions. Some commonly used YAML metadata options are:
    - `title` : A descriptive main title. 
    - 

2. Following the metadata is the body of

## Summary



## Useful resources {.unnumbered}

- [R Markdown Quick Tour](https://rmarkdown.rstudio.com/authoring_quick_tour.html)
- [Introduction to R Markdown](https://rmarkdown.rstudio.com/articles_intro.html) by Garrett Grolemund
- [R Markdown: The Definitive Guide](https://bookdown.org/yihui/rmarkdown/) by Yihui Xie, J. J. Allaire and Garrett Grolemund
- [{R Markdown}](https://privefl.github.io/R-presentation/rmarkdown.html), a presentation by Florian Priv√© and Julyan Arbel. 
- [Chapter 27 *R Markdown*](https://r4ds.had.co.nz/r-markdown.html) of [R for Data Science](http://r4ds.had.co.nz/) by Hadley Wickham and Garrett Grolemund. 
